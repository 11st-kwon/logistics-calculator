<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>슈팅배송 출고비 계산기</title>
  <style>
    body { font-family: sans-serif; padding: 1.5rem; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
      font-size: 0.8rem;
      table-layout: fixed;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 0.3rem;
      text-align: center;
    }
    input, select {
      width: 100%;
      padding: 0.25rem;
      box-sizing: border-box;
    }
    button {
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      font-size: 1rem;
    }
    .tab-buttons button {
      padding: 0.7rem 1.2rem;
      margin-right: 0.5rem;
      font-weight: bold;
      border: none;
      background-color: #e0e0e0;
      cursor: pointer;
    }
    .tab-buttons button:hover {
      background-color: #ccc;
    }
    .tab-content {
      margin-top: 2rem;
    }
    #boxModal {
      display: none;
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      background: #fff;
      padding: 1rem;
      border: 1px solid #aaa;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      z-index: 1000;
      max-width: 400px;
    }
    #boxModalOverlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.3);
      z-index: 999;
    }
  </style>
</head>
<body>
  <h1>📦 슈팅배송 출고비 계산기</h1>
  <div class="tab-buttons">
    <button onclick="showTab('outbound')">출고비 계산</button>
  </div>

  <div id="outbound" class="tab-content">
    <h2>🚛 슈팅배송 출고비 계산기</h2>
    <button onclick="addOutboundRow()">+ 행을 추가하고 상품정보를 입력하세요</button>
    <table id="outboundTable">
      <thead>
        <tr>
          <th>SKU명</th><th>가로(mm)</th><th>세로(mm)</th><th>높이(mm)</th><th>무게(kg)</th>
          <th>포장방식</th><th>합포 개수</th><th>온도</th><th>도착보장</th><th>라벨링</th>
          <th>배송사이즈</th><th>가용박스</th><th>작업비</th><th>배송비</th><th>부자재비</th><th>기타비</th><th>총 출고비</th>
        </tr>
      </thead>
      <tbody></tbody>
      <tfoot>
        <tr>
          <td colspan="16">합계</td>
          <td id="outTotal">₩0</td>
        </tr>
      </tfoot>
    </table>
  </div>

  <div id="boxModal">
    <h3>📦 부자재 상세</h3>
    <div id="boxModalContent">로딩 중...</div>
    <button onclick="closeBoxModal()">닫기</button>
  </div>
  <div id="boxModalOverlay" onclick="closeBoxModal()"></div>

  <script>
    function showTab(tabId) {
      document.querySelectorAll('.tab-content').forEach(tab => tab.style.display = 'none');
      document.getElementById(tabId).style.display = 'block';
    }

    function addOutboundRow() {
      const table = document.querySelector('#outboundTable tbody');
      const row = document.createElement('tr');
      row.innerHTML = \`
        <td><input type="text" class="sku"></td>
        <td><input type="number" class="width" onchange="calcOutbound(this)"></td>
        <td><input type="number" class="depth" onchange="calcOutbound(this)"></td>
        <td><input type="number" class="height" onchange="calcOutbound(this)"></td>
        <td><input type="number" class="weight" onchange="calcOutbound(this)"></td>
        <td>
          <select class="packing" onchange="calcOutbound(this)">
            <option value="단수">단수</option>
            <option value="단포">단포</option>
            <option value="동종합포">동종합포</option>
            <option value="이종합포">이종합포</option>
          </select>
        </td>
        <td><input type="number" class="mergeCount" onchange="calcOutbound(this)"></td>
        <td>
          <select class="temp" onchange="calcOutbound(this)">
            <option value="ambient">상온</option>
            <option value="cold">저온</option>
          </select>
        </td>
        <td><input type="checkbox" class="arrival"></td>
        <td><input type="checkbox" class="labeling"></td>
        <td class="size">-</td>
        <td class="box" onclick="showBoxModal(this.textContent)">-</td>
        <td class="work">0</td>
        <td class="ship">0</td>
        <td class="pack">0</td>
        <td class="etc">0</td>
        <td class="total">0</td>
      \`;
      table.appendChild(row);
    }

    function showBoxModal(boxName) {
      const boxData = {
        "1호": { size: "240×170×120", price: 126 },
        "2호": { size: "290×195×130", price: 163 },
        "3호": { size: "205×170×290", price: 269 },
        "4호": { size: "340×185×145", price: 185 },
        "5호": { size: "360×220×100", price: 195 },
        "6호": { size: "310×260×160", price: 249 },
        "7호": { size: "400×160×190", price: 299 },
        "8호": { size: "360×340×145", price: 373 },
        "9호": { size: "395×325×135", price: 341 },
        "10호": { size: "330×240×350", price: 505 },
        "11호": { size: "410×310×230", price: 580 },
        "12호": { size: "360×340×260", price: 651 },
        "14호": { size: "550×350×300", price: 874 }
      };
      const content = document.getElementById('boxModalContent');
      if (boxData[boxName]) {
        content.innerHTML = \`
          <p><strong>\${boxName}</strong></p>
          <p>규격: \${boxData[boxName].size}</p>
          <p>단가: ₩\${boxData[boxName].price.toLocaleString()}</p>
        \`;
      } else {
        content.innerHTML = "<p>해당 박스 정보가 없습니다.</p>";
      }
      document.getElementById('boxModal').style.display = 'block';
      document.getElementById('boxModalOverlay').style.display = 'block';
    }

    function closeBoxModal() {
      document.getElementById('boxModal').style.display = 'none';
      document.getElementById('boxModalOverlay').style.display = 'none';
    }
  </script>
</body>
</html>
